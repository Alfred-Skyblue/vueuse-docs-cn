import{a1 as C,a2 as H,a3 as z}from"./index.af92c384.js";import{Q as N,t as m,g as Y,n as w,e as O,l as _,v as X,f as L,i as j}from"./index.a0a160c7.js";import{d as S,r as b,i as h,H as D,b as k,p as g,y as Q,I as R}from"../app.a0e03023.js";function y(e){var t;const n=m(e);return(t=n==null?void 0:n.$el)!=null?t:n}const U=X?window:void 0;function T(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=U):[t,n,r,i]=e,!t)return w;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const l=[],f=()=>{l.forEach(s=>s()),l.length=0},o=(s,u,p,d)=>(s.addEventListener(u,p,d),()=>s.removeEventListener(u,p,d)),c=g(()=>[y(t),m(i)],([s,u])=>{if(f(),!s)return;const p=j(u)?{...u}:u;l.push(...n.flatMap(d=>r.map(v=>o(s,d,v,p))))},{immediate:!0,flush:"post"}),a=()=>{c(),f()};return O(a),a}const Z=S({name:"UseActiveElement",setup(e,{slots:t}){const n=b({element:C()});return()=>{if(t.default)return t.default(n)}}});function V(){const e=h(!1),t=R();return t&&Q(()=>{e.value=!0},t),e}function $(e){const t=V();return k(()=>(t.value,!!e()))}const ee=S({name:"UseElementBounding",props:["box","as"],setup(e,{slots:t}){const n=h(),r=b(H(n));return()=>{if(t.default)return D(e.as||"div",{ref:n},t.default(r))}}}),te=S({name:"UseElementSize",props:["width","height","box","as"],setup(e,{slots:t}){const n=h(),r=b(z(n,{width:e.width,height:e.height},{box:e.box}));return()=>{if(t.default)return D(e.as||"div",{ref:n},t.default(r))}}});function W(e,t,n={}){const{root:r,rootMargin:i="0px",threshold:l=.1,window:f=U,immediate:o=!0}=n,c=$(()=>f&&"IntersectionObserver"in f),a=k(()=>{const v=m(e);return(Array.isArray(v)?v:[v]).map(y).filter(Y)});let s=w;const u=h(o),p=c.value?g(()=>[a.value,y(r),u.value],([v,B])=>{if(s(),!u.value||!v.length)return;const M=new IntersectionObserver(t,{root:y(B),rootMargin:i,threshold:l});v.forEach(I=>I&&M.observe(I)),s=()=>{M.disconnect(),s=w}},{immediate:o,flush:"post"}):w,d=()=>{s(),p(),u.value=!1};return O(d),{isSupported:c,isActive:u,pause(){s(),u.value=!1},resume(){u.value=!0},stop:d}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const ne={[N.mounted](e,t){typeof t.value=="function"?W(e,t.value):W(e,...t.value)}};function x(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:x(n)}}function q(e){const t=e||window.event,n=t.target;return x(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const A=new WeakMap;function F(e,t=!1){const n=h(t);let r=null,i="";g(_(e),o=>{const c=E(m(o));if(c){const a=c;if(A.get(a)||A.set(a,a.style.overflow),a.style.overflow!=="hidden"&&(i=a.style.overflow),a.style.overflow==="hidden")return n.value=!0;if(n.value)return a.style.overflow="hidden"}},{immediate:!0});const l=()=>{const o=E(m(e));!o||n.value||(L&&(r=T(o,"touchmove",c=>{q(c)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},f=()=>{const o=E(m(e));!o||!n.value||(L&&(r==null||r()),o.style.overflow=i,A.delete(o),n.value=!1)};return O(f),k({get(){return n.value},set(o){o?l():f()}})}function G(){let e=!1;const t=h(!1);return(n,r)=>{if(t.value=r.value,e)return;e=!0;const i=F(n,r.value);g(t,l=>i.value=l)}}G();export{Z as U,ee as a,te as b,ne as v};
