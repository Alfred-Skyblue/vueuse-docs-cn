import{a1 as C,a2 as H,a3 as _}from"./index.c7c8baeb.js";import{Q as z,t as p,l as N,n as g,e as S,k as Y,v as X,f as L,i as j}from"./index.cfd6f187.js";import{d as b,r as k,i as m,H as D,b as O,p as E,y as Q,I as R}from"../app.2f286db0.js";function y(e){var t;const n=p(e);return(t=n==null?void 0:n.$el)!=null?t:n}const U=X?window:void 0;function T(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=U):[t,n,o,l]=e,!t)return g;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],r=()=>{i.forEach(u=>u()),i.length=0},s=(u,a,d,v)=>(u.addEventListener(a,d,v),()=>u.removeEventListener(a,d,v)),c=E(()=>[y(t),p(l)],([u,a])=>{if(r(),!u)return;const d=j(a)?{...a}:a;i.push(...n.flatMap(v=>o.map(f=>s(u,v,f,d))))},{immediate:!0,flush:"post"}),h=()=>{c(),r()};return S(h),h}const Z=b({name:"UseActiveElement",setup(e,{slots:t}){const n=k({element:C()});return()=>{if(t.default)return t.default(n)}}});function V(){const e=m(!1),t=R();return t&&Q(()=>{e.value=!0},t),e}function $(e){const t=V();return O(()=>(t.value,!!e()))}const ee=b({name:"UseElementBounding",props:["box","as"],setup(e,{slots:t}){const n=m(),o=k(H(n));return()=>{if(t.default)return D(e.as||"div",{ref:n},t.default(o))}}}),te=b({name:"UseElementSize",props:["width","height","box","as"],setup(e,{slots:t}){const n=m(),o=k(_(n,{width:e.width,height:e.height},{box:e.box}));return()=>{if(t.default)return D(e.as||"div",{ref:n},t.default(o))}}});function W(e,t,n={}){const{root:o,rootMargin:l="0px",threshold:i=.1,window:r=U,immediate:s=!0}=n,c=$(()=>r&&"IntersectionObserver"in r),h=O(()=>{const f=p(e);return(Array.isArray(f)?f:[f]).map(y).filter(N)});let u=g;const a=m(s),d=c.value?E(()=>[h.value,y(o),a.value],([f,B])=>{if(u(),!a.value||!f.length)return;const M=new IntersectionObserver(t,{root:y(B),rootMargin:l,threshold:i});f.forEach(I=>I&&M.observe(I)),u=()=>{M.disconnect(),u=g}},{immediate:s,flush:"post"}):g,v=()=>{u(),d(),a.value=!1};return S(v),{isSupported:c,isActive:a,pause(){u(),a.value=!1},resume(){a.value=!0},stop:v}}function A(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const ne={[z.mounted](e,t){typeof t.value=="function"?W(e,t.value):W(e,...t.value)}};function x(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:x(n)}}function q(e){const t=e||window.event,n=t.target;return x(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const w=new WeakMap;function F(e,t=!1){const n=m(t);let o=null;E(Y(e),r=>{const s=A(p(r));if(s){const c=s;w.get(c)||w.set(c,c.style.overflow),n.value&&(c.style.overflow="hidden")}},{immediate:!0});const l=()=>{const r=A(p(e));!r||n.value||(L&&(o=T(r,"touchmove",s=>{q(s)},{passive:!1})),r.style.overflow="hidden",n.value=!0)},i=()=>{var r;const s=A(p(e));!s||!n.value||(L&&(o==null||o()),s.style.overflow=(r=w.get(s))!=null?r:"",w.delete(s),n.value=!1)};return S(i),O({get(){return n.value},set(r){r?l():i()}})}function G(){let e=!1;const t=m(!1);return(n,o)=>{if(t.value=o.value,e)return;e=!0;const l=F(n,o.value);E(t,i=>l.value=i)}}G();export{Z as U,ee as a,te as b,ne as v};
