import{a1 as D,a2 as W,a3 as z}from"./index.9ff118c8.js";import{Q as C,t as h,y as H,n as w,e as E,k as N,v as Y,i as L}from"./index.e8848682.js";import{d as A,r as S,i as p,H as U,b,p as g,y as _,z as X}from"../app.a414ecd8.js";function y(e){var t;const n=h(e);return(t=n==null?void 0:n.$el)!=null?t:n}const x=Y?window:void 0;function Q(...e){let t,n,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,a]=e,t=x):[t,n,r,a]=e,!t)return w;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const l=[],c=()=>{l.forEach(s=>s()),l.length=0},o=(s,u,v,f)=>(s.addEventListener(u,v,f),()=>s.removeEventListener(u,v,f)),i=g(()=>[y(t),h(a)],([s,u])=>{c(),s&&l.push(...n.flatMap(v=>r.map(f=>o(s,v,f,u))))},{immediate:!0,flush:"post"}),m=()=>{i(),c()};return E(m),m}const J=A({name:"UseActiveElement",setup(e,{slots:t}){const n=S({element:D()});return()=>{if(t.default)return t.default(n)}}});function R(){const e=p(!1);return _()&&X(()=>{e.value=!0}),e}function T(e){const t=R();return b(()=>(t.value,!!e()))}const K=A({name:"UseElementBounding",props:["box","as"],setup(e,{slots:t}){const n=p(),r=S(W(n));return()=>{if(t.default)return U(e.as||"div",{ref:n},t.default(r))}}}),P=A({name:"UseElementSize",props:["width","height","box"],setup(e,{slots:t}){const n=p(),r=S(z(n,{width:e.width,height:e.height},{box:e.box}));return()=>{if(t.default)return U(e.as||"div",{ref:n},t.default(r))}}});function M(e,t,n={}){const{root:r,rootMargin:a="0px",threshold:l=.1,window:c=x,immediate:o=!0}=n,i=T(()=>c&&"IntersectionObserver"in c),m=b(()=>{const d=h(e);return(Array.isArray(d)?d:[d]).map(y).filter(H)});let s=w;const u=p(o),v=i.value?g(()=>[m.value,y(r),u.value],([d,B])=>{if(s(),!u.value||!d.length)return;const k=new IntersectionObserver(t,{root:y(B),rootMargin:a,threshold:l});d.forEach(O=>O&&k.observe(O)),s=()=>{k.disconnect(),s=w}},{immediate:o,flush:"post"}):w,f=()=>{s(),v(),u.value=!1};return E(f),{isSupported:i,isActive:u,pause(){s(),u.value=!1},resume(){u.value=!0},stop:f}}const Z={[C.mounted](e,t){typeof t.value=="function"?M(e,t.value):M(e,...t.value)}};function I(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:I(n)}}function V(e){const t=e||window.event,n=t.target;return I(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function $(e,t=!1){const n=p(t);let r=null,a;g(N(e),o=>{if(o){const i=o;a=i.style.overflow,n.value&&(i.style.overflow="hidden")}},{immediate:!0});const l=()=>{const o=h(e);!o||n.value||(L&&(r=Q(o,"touchmove",i=>{V(i)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},c=()=>{const o=h(e);!o||!n.value||(L&&(r==null||r()),o.style.overflow=a,n.value=!1)};return E(c),b({get(){return n.value},set(o){o?l():c()}})}function j(){let e=!1;const t=p(!1);return(n,r)=>{if(t.value=r.value,e)return;e=!0;const a=$(n,r.value);g(t,l=>a.value=l)}}j();export{J as U,K as a,P as b,Z as v};
